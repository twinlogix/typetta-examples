schema: ['src/schema.ts', 'src/operations.graphql.generated.ts']
generates:
  src/model.generated.ts:
    plugins:
      - 'typescript'
    config:
      enumsAsConst: true
      inputMaybeValue: T | undefined
  src/operations.types.generated.ts:
    plugins:
      - add:
          content:
            - import { PartialDeep } from 'type-fest'
            - import * as types from './model.generated'
      - typescript-resolvers
    config:
      resolverTypeWrapperSignature: PartialDeep<T>
      contextType: ./index#Context
      namespacedImportName: types
  src/operations.generated.ts:
    config:
      generationOutput: resolvers
      tsTypesImport: ./operations.types.generated
      daoContextPath: entityManager
    plugins:
      - '@twinlogix/typetta'
hooks:
  afterAllFileWrite:
    - prettier --write